<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/favicon.png">
  <title>Orbital Compute Simulator</title>
  <script type="module" src="/src/main.ts"></script>
</head>
<body>
<div class="app">
  
  <div class="main">
    <div class="main-header">
      <div class="tabs">
        <button class="tab active" data-tab="world">World</button>
        <button class="tab" data-tab="market">Market</button>
        <button class="tab" data-tab="constraints">Constraints</button>
        <button class="tab" data-tab="physics">Physics</button>
        <button class="tab" data-tab="futures">Futures</button>
        <a href="/finance/" class="tab finance-link">Finance</a>
      </div>
      <div class="header-badges">
        <div class="badge-item">
          <span class="badge-label">Crossover</span>
          <span class="badge-value orbital" id="badge-crossover">--</span>
        </div>
        <div class="badge-item">
          <span class="badge-label">Fleet 2050</span>
          <span class="badge-value warning" id="badge-fleet50">--</span>
        </div>
      </div>
    </div>
    
    <div class="main-content">
      <!-- WORLD TAB -->
      <div class="tab-panel active" data-tab="world">
        <div class="world-container">
          <iframe id="world-iframe" src="/orbital-visualization-example.html" style="width: 100%; height: calc(100vh - 120px); border: none; border-radius: 6px;"></iframe>
        </div>

        <!-- KPI Panel -->
        <div class="kpis" style="margin: 12px 0;">
          <div class="kpi orbital"><div class="kpi-label">ORB 2035</div><div class="kpi-value" id="kpi-orb35">--</div></div>
          <div class="kpi ground"><div class="kpi-label">GND 2035</div><div class="kpi-value" id="kpi-gnd35">--</div></div>
          <div class="kpi orbital"><div class="kpi-label">ORB 2050</div><div class="kpi-value" id="kpi-orb50">--</div></div>
          <div class="kpi ground"><div class="kpi-label">GND 2050</div><div class="kpi-value" id="kpi-gnd50">--</div></div>
          <div class="kpi accent"><div class="kpi-label">DELIVERED 2035</div><div class="kpi-value" id="kpi-delivered35">--</div></div>
          <div class="kpi warning"><div class="kpi-label">DELIVERED 2050</div><div class="kpi-value" id="kpi-delivered50">--</div></div>
        </div>

        <!-- Parameter Controls -->
        <details class="params-expander">
          <summary class="params-toggle">Parameters</summary>
          <div class="sandbox-grid">
          <div class="sandbox-section">
            <div class="section-title">Breakthroughs</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Thermal Breakthrough</span><span class="slider-val"><span id="v-thermalYearSlider">2030</span></span></div>
              <input type="range" id="thermalYearSlider" min="2026" max="2040" value="2030">
              <div class="slider-context">50× lighter radiators, MW-class platforms</div>
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Starship Operational</span><span class="slider-val"><span id="v-starshipYearSlider">2027</span></span></div>
              <input type="range" id="starshipYearSlider" min="2026" max="2035" value="2027">
              <div class="slider-context">100t+ payloads, $200→$15/kg launch</div>
            </div>
            <div class="toggle-row">
              <div>
                <div class="toggle-lbl">Space Fission</div>
                <div class="toggle-effect" id="eff-fission">10-100× orbital power only</div>
              </div>
              <div class="toggle-group">
                <input type="number" class="year-input" id="year-fission" value="2035" min="2028" max="2050">
                <label class="toggle"><input type="checkbox" id="tog-fission" checked><span class="toggle-track"></span></label>
              </div>
            </div>
            <div class="toggle-row">
              <div>
                <div class="toggle-lbl">Ground SMR Buildout</div>
                <div class="toggle-effect" id="eff-smr">Ground supply +10-25 GW/yr</div>
              </div>
              <div class="toggle-group">
                <input type="number" class="year-input" id="year-smr" value="2032" min="2028" max="2050">
                <label class="toggle"><input type="checkbox" id="tog-smr" checked><span class="toggle-track"></span></label>
              </div>
            </div>
            <div class="toggle-row">
              <div>
                <div class="toggle-lbl">Fusion Power</div>
                <div class="toggle-effect" id="eff-fusion">GW stations, 100× ground</div>
              </div>
              <div class="toggle-group">
                <input type="number" class="year-input" id="year-fusion" value="2045" min="2035" max="2050">
                <label class="toggle"><input type="checkbox" id="tog-fusion"><span class="toggle-track"></span></label>
              </div>
            </div>
            <div class="toggle-row">
              <div>
                <div class="toggle-lbl">Thermo Computing</div>
                <div class="toggle-effect" id="eff-thermo">100× ground, 1000× space</div>
              </div>
              <div class="toggle-group">
                <input type="number" class="year-input" id="year-thermo" value="2029" min="2026" max="2040">
                <label class="toggle"><input type="checkbox" id="tog-thermo"><span class="toggle-track"></span></label>
              </div>
            </div>
            <div class="slider-row" id="thermo-sliders" style="display: none; margin-top: 8px;">
              <div class="slider-header"><span class="slider-lbl">Ground Mult</span><span class="slider-val"><span id="v-thermoGroundMult">100</span><span class="unit">×</span></span></div>
              <input type="range" id="thermoGroundMult" min="1" max="4" step="0.1" value="2">
              <div class="slider-header" style="margin-top: 6px;"><span class="slider-lbl">Space Mult</span><span class="slider-val"><span id="v-thermoSpaceMult">1000</span><span class="unit">×</span></span></div>
              <input type="range" id="thermoSpaceMult" min="1" max="5" step="0.1" value="3">
            </div>
            <div class="toggle-row">
              <div>
                <div class="toggle-lbl">Photonic Computing</div>
                <div class="toggle-effect" id="eff-photonic">30× ground, 150× space</div>
              </div>
              <div class="toggle-group">
                <input type="number" class="year-input" id="year-photonic" value="2035" min="2028" max="2045">
                <label class="toggle"><input type="checkbox" id="tog-photonic"><span class="toggle-track"></span></label>
              </div>
            </div>
            <div class="slider-row" id="photonic-sliders" style="display: none; margin-top: 8px;">
              <div class="slider-header"><span class="slider-lbl">Ground Mult</span><span class="slider-val"><span id="v-photonicGroundMult">30</span><span class="unit">×</span></span></div>
              <input type="range" id="photonicGroundMult" min="1" max="3" step="0.1" value="1.48">
              <div class="slider-header" style="margin-top: 6px;"><span class="slider-lbl">Space Mult</span><span class="slider-val"><span id="v-photonicSpaceMult">150</span><span class="unit">×</span></span></div>
              <input type="range" id="photonicSpaceMult" min="1" max="4" step="0.1" value="2.18">
            </div>
          </div>

          <div class="sandbox-section">
            <div class="section-title">Thermal</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Emissivity</span><span class="slider-val"><span id="v-emissivity">0.85</span></span></div>
              <input type="range" id="emissivity" min="70" max="95" value="85">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Op Temp</span><span class="slider-val"><span id="v-opTemp">350</span><span class="unit">K</span></span></div>
              <input type="range" id="opTemp" min="300" max="400" value="350">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Rad Learn</span><span class="slider-val"><span id="v-radLearn">50</span><span class="unit">kg/MW/yr</span></span></div>
              <input type="range" id="radLearn" min="0" max="100" value="50">
            </div>
          </div>

          <div class="sandbox-section">
            <div class="section-title">Power</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Solar Eff</span><span class="slider-val"><span id="v-solarEff">20</span><span class="unit">%</span></span></div>
              <input type="range" id="solarEff" min="15" max="50" value="20">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Solar Learn</span><span class="slider-val"><span id="v-solarLearn">0.8</span><span class="unit">%/yr</span></span></div>
              <input type="range" id="solarLearn" min="0" max="20" value="8">
            </div>
            <!-- basePower removed - power determined by tech state -->
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Compute %</span><span class="slider-val"><span id="v-computeFrac">68</span><span class="unit">%</span></span></div>
              <input type="range" id="computeFrac" min="50" max="80" value="68">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Battery Dens</span><span class="slider-val"><span id="v-battDens">280</span><span class="unit">Wh/kg</span></span></div>
              <input type="range" id="battDens" min="200" max="500" value="280">
            </div>
          </div>

          <div class="sandbox-section">
            <div class="section-title">Compute</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Rad Penalty</span><span class="slider-val"><span id="v-radPen">30</span><span class="unit">%</span></span></div>
              <input type="range" id="radPen" min="10" max="60" value="30">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">AI Learn Rate</span><span class="slider-val"><span id="v-aiLearn">20</span><span class="unit">%/yr</span></span></div>
              <input type="range" id="aiLearn" min="5" max="35" value="20">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Sat Lifetime</span><span class="slider-val"><span id="v-satLife">10</span><span class="unit">yrs</span></span></div>
              <input type="range" id="satLife" min="3" max="15" value="10">
            </div>
          </div>

          <div class="sandbox-section">
            <div class="section-title">Economics</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Launch $/kg</span><span class="slider-val">$<span id="v-launchCost">1500</span></span></div>
              <input type="range" id="launchCost" min="200" max="2500" value="1500">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Launch Learn</span><span class="slider-val"><span id="v-launchLearn">18</span><span class="unit">%</span></span></div>
              <input type="range" id="launchLearn" min="10" max="50" value="18">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Launch Floor</span><span class="slider-val">$<span id="v-launchFloor">15</span><span class="unit">/kg</span></span></div>
              <input type="range" id="launchFloor" min="5" max="100" value="15">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Mfg Mult</span><span class="slider-val"><span id="v-prodMult">4.5</span><span class="unit">×</span></span></div>
              <input type="range" id="prodMult" min="10" max="80" value="45">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Maint Cost</span><span class="slider-val"><span id="v-maintCost">2</span><span class="unit">%/yr</span></span></div>
              <input type="range" id="maintCost" min="1" max="30" value="2">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">WACC Orbital</span><span class="slider-val"><span id="v-waccOrbital">10</span><span class="unit">%</span></span></div>
              <input type="range" id="waccOrbital" min="5" max="20" value="10">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">WACC Ground</span><span class="slider-val"><span id="v-waccGround">8</span><span class="unit">%</span></span></div>
              <input type="range" id="waccGround" min="4" max="15" value="8">
            </div>
          </div>

          <div class="sandbox-section">
            <div class="section-title ground">Ground</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">PUE</span><span class="slider-val ground"><span id="v-groundPue">1.30</span></span></div>
              <input type="range" class="ground" id="groundPue" min="110" max="180" value="130">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Energy Cost</span><span class="slider-val ground">$<span id="v-energyCost">0.065</span><span class="unit">/kWh</span></span></div>
              <input type="range" class="ground" id="energyCost" min="30" max="120" value="65">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Energy Escal</span><span class="slider-val ground"><span id="v-energyEscal">4</span><span class="unit">%/yr</span></span></div>
              <input type="range" class="ground" id="energyEscal" min="0" max="10" value="4">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Queue Delay</span><span class="slider-val ground"><span id="v-interconnect">48</span><span class="unit">mo</span></span></div>
              <input type="range" class="ground" id="interconnect" min="12" max="72" value="48">
            </div>
          </div>

          <div class="sandbox-section">
            <div class="section-title">Bandwidth</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">2026 BW</span><span class="slider-val"><span id="v-bandwidth">50</span><span class="unit">Tbps</span></span></div>
              <input type="range" id="bandwidth" min="10" max="200" value="50">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">BW Growth</span><span class="slider-val"><span id="v-bwGrowth">40</span><span class="unit">%/yr</span></span></div>
              <input type="range" id="bwGrowth" min="10" max="60" value="40">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">BW $/Gbps</span><span class="slider-val">$<span id="v-bwCost">50</span><span class="unit">k</span></span></div>
              <input type="range" id="bwCost" min="10" max="200" value="50">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Batch Eligible</span><span class="slider-val"><span id="v-orbitalEligibleShare">35</span><span class="unit">%</span></span></div>
              <input type="range" id="orbitalEligibleShare" min="10" max="80" value="35">
            </div>
          </div>

          <div class="sandbox-section">
            <div class="section-title ground">Market</div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">2026 Demand</span><span class="slider-val ground"><span id="v-demand2025">65</span><span class="unit">Exaflops</span></span></div>
              <input type="range" class="ground" id="demand2025" min="30" max="450" value="65">
              <div class="slider-context" id="demand-context">(≈ 102 Petatok/yr | ≈ 22 GW @ baseline)</div>
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Demand Growth</span><span class="slider-val ground"><span id="v-demandGrowth">55</span><span class="unit">%/yr</span></span></div>
              <input type="range" class="ground" id="demandGrowth" min="20" max="80" value="55">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">2026 Supply</span><span class="slider-val ground"><span id="v-supply2025">60</span><span class="unit">GW</span></span></div>
              <input type="range" class="ground" id="supply2025" min="30" max="150" value="60">
            </div>
            <div class="slider-row">
              <div class="slider-header"><span class="slider-lbl">Supply Growth</span><span class="slider-val ground"><span id="v-supplyGrowth">8</span><span class="unit">%/yr</span></span></div>
              <input type="range" class="ground" id="supplyGrowth" min="5" max="25" value="8">
            </div>
          </div>

          </div>
        </details>

        <!-- Core Charts for World Tab -->
        <div class="world-summary" style="padding: 16px;">
          <div class="charts">
            <div class="chart-card wide tall">
              <div class="chart-header">
                <div class="chart-title">LCOC with Uncertainty ($/GPU-hr)</div>
                <div class="chart-desc">Orbital vs Ground market price. Bands = scenario range.</div>
                <div class="sla-note">SLA: 99.9% uptime (8.76 hrs/yr downtime)</div>
              </div>
              <div class="chart-box"><canvas id="c-lcoc-world"></canvas></div>
              <div class="legend">
                <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Orbital (baseline)</div>
                <div class="legend-item"><div class="legend-dot" style="background:rgba(26,138,106,0.3)"></div>Orbital range</div>
                <div class="legend-item"><div class="legend-dot" style="background:var(--ground)"></div>Ground (market)</div>
                <div class="legend-item"><div class="legend-dot" style="background:transparent;border:2px dashed var(--ground)"></div>Ground (base)</div>
              </div>
            </div>
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title">Orbital Fleet (TW)</div>
                <div class="chart-desc">All shells: LEO, MEO, GEO, Cislunar</div>
              </div>
              <div class="chart-box"><canvas id="c-fleet-world"></canvas></div>
              <div class="legend">
                <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>LEO</div>
                <div class="legend-item"><div class="legend-dot" style="background:var(--accent)"></div>MEO</div>
                <div class="legend-item"><div class="legend-dot" style="background:var(--warning)"></div>GEO</div>
                <div class="legend-item"><div class="legend-dot" style="background:var(--purple)"></div>Cislunar</div>
              </div>
            </div>
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title">Carbon (gCO₂/TFLOP-hr)</div>
                <div class="chart-desc">Orbital = embodied; Ground = grid + embodied</div>
              </div>
              <div class="chart-box"><canvas id="c-carbon-world"></canvas></div>
              <div class="legend">
                <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Orbital</div>
                <div class="legend-item"><div class="legend-dot" style="background:var(--ground)"></div>Ground</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- MARKET TAB -->
      <div class="tab-panel" data-tab="market">
        <div class="kpis">
          <div class="kpi warning"><div class="kpi-label">Peak Premium</div><div class="kpi-value" id="kpi-peakPrem">--</div></div>
          <div class="kpi ground"><div class="kpi-label">Premium 2035</div><div class="kpi-value" id="kpi-prem35">--</div></div>
          <div class="kpi accent"><div class="kpi-label">Unmet 2035</div><div class="kpi-value" id="kpi-unmet35">--</div></div>
        </div>
        <div class="charts">
          <div class="chart-card wide tall">
            <div class="chart-header">
              <div class="chart-title">Supply vs Demand (GW)</div>
              <div class="chart-desc">Gap drives scarcity premium. Orbital-eligible demand = total × eligible share.</div>
            </div>
            <div class="chart-box"><canvas id="c-supplyDemand"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--ground)"></div>Total Demand</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--muted)"></div>Ground Supply</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Total Supply</div>
            </div>
          </div>
          <div class="chart-card wide">
            <div class="chart-header">
              <div class="chart-title">Scarcity Premium (×)</div>
              <div class="chart-desc">Price multiplier from unmet demand</div>
            </div>
            <div class="chart-box"><canvas id="c-scarcity"></canvas></div>
          </div>
        </div>
      </div>
      
      <!-- CONSTRAINTS TAB -->
      <div class="tab-panel" data-tab="constraints">
        <div class="kpis">
          <div class="kpi accent"><div class="kpi-label">BW Util 2035</div><div class="kpi-value" id="kpi-bwUtil">--</div></div>
          <div class="kpi orbital"><div class="kpi-label">Platforms 2035</div><div class="kpi-value" id="kpi-plat35">--</div></div>
          <div class="kpi purple"><div class="kpi-label">Platforms 2050</div><div class="kpi-value" id="kpi-plat50">--</div></div>
        </div>
        <div class="charts">
          <div class="chart-card wide">
            <div class="chart-header">
              <div class="chart-title">Shell Utilization (%)</div>
              <div class="chart-desc">LEO: 300k, MEO: 50k, GEO: 1.8k, Cislunar: 700k capacity</div>
            </div>
            <div class="chart-box"><canvas id="c-shellUtil"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>LEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--accent)"></div>MEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--warning)"></div>GEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--purple)"></div>Cislunar</div>
            </div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Bandwidth Utilization (%)</div>
              <div class="chart-desc">Available / needed. Low = stranded capacity.</div>
            </div>
            <div class="chart-box"><canvas id="c-bwUtil"></canvas></div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Bandwidth Capacity (Tbps)</div>
              <div class="chart-desc">Ground segment optical links</div>
            </div>
            <div class="chart-box"><canvas id="c-bandwidth"></canvas></div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Stranded Capex Penalty (×)</div>
              <div class="chart-desc">LCOC multiplier from underutilization</div>
            </div>
            <div class="chart-box"><canvas id="c-stranded"></canvas></div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Radiator Mass (kg/kW)</div>
              <div class="chart-desc">Thermal breakthrough: 50× lighter heat rejection</div>
            </div>
            <div class="chart-box"><canvas id="c-thermal"></canvas></div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Bottleneck Analysis</div>
              <div class="chart-desc">Dominant constraint each period</div>
            </div>
            <div class="chart-box"><canvas id="c-bottleneck"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orange)"></div>Thermal</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--warning)"></div>Power</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--accent)"></div>Bandwidth</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--purple)"></div>Orbital Slots</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Demand</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- PHYSICS TAB -->
      <div class="tab-panel" data-tab="physics">
        <div class="kpis">
          <div class="kpi orbital"><div class="kpi-label">LEO Power</div><div class="kpi-value" id="kpi-leo">--</div></div>
          <div class="kpi purple"><div class="kpi-label">Cislunar</div><div class="kpi-value" id="kpi-cis">--</div></div>
          <div class="kpi accent"><div class="kpi-label">Mass 2035</div><div class="kpi-value" id="kpi-mass">--</div></div>
        </div>
        <div class="charts">
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Mass Breakdown (kg)</div>
              <div class="chart-desc">Advanced thermal: 50× lighter</div>
            </div>
            <div class="chart-box"><canvas id="c-mass"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--warning)"></div>Solar/Reactor</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--purple)"></div>Battery</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Compute</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--ground)"></div>Radiator</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--muted)"></div>Structure</div>
            </div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Launch Cost ($/kg)</div>
              <div class="chart-desc">Learning curve to $15/kg floor</div>
            </div>
            <div class="chart-box"><canvas id="c-launch"></canvas></div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Compute Efficiency (GFLOPS/W)</div>
              <div class="chart-desc">AI learning rate drives improvement</div>
            </div>
            <div class="chart-box"><canvas id="c-efficiency"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Orbital</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--ground)"></div>Ground</div>
            </div>
          </div>
          <div class="chart-card wide">
            <div class="chart-header">
              <div class="chart-title">Platform Power by Shell (MW)</div>
              <div class="chart-desc">Fission/fusion enable 10-1000× power jump</div>
            </div>
            <div class="chart-box"><canvas id="c-power"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>LEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--accent)"></div>MEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--warning)"></div>GEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--purple)"></div>Cislunar</div>
            </div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Specific Power (W/kg)</div>
              <div class="chart-desc">Key figure of merit for orbital</div>
            </div>
            <div class="chart-box"><canvas id="c-specPower"></canvas></div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Power Budget (%)</div>
              <div class="chart-desc">Compute vs thermal vs housekeeping</div>
            </div>
            <div class="chart-box"><canvas id="c-powerBudget"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Compute</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--orange)"></div>Thermal</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--muted)"></div>Housekeeping</div>
            </div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Data Rate per Platform (Gbps)</div>
              <div class="chart-desc">Link budget based on compute output</div>
            </div>
            <div class="chart-box"><canvas id="c-dataRate"></canvas></div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Radiation: Reliability Overhead (%)</div>
              <div class="chart-desc">SEU-driven redundancy by shell (improves with rad-hard tech)</div>
            </div>
            <div class="chart-box"><canvas id="c-reliability"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>LEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--warning)"></div>MEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--accent)"></div>GEO</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--purple)"></div>Cislunar</div>
            </div>
          </div>
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">EROL (Energy Return on Launch)</div>
              <div class="chart-desc">Lifetime energy output vs launch energy</div>
            </div>
            <div class="chart-box"><canvas id="c-erol"></canvas></div>
          </div>
        </div>
      </div>
      
      <!-- FUTURES TAB -->
      <div class="tab-panel" data-tab="futures">
        <div class="kpis">
          <div class="kpi orbital"><div class="kpi-label">Aggressive</div><div class="kpi-value" id="kpi-crossAgg">--</div></div>
          <div class="kpi accent"><div class="kpi-label">Baseline</div><div class="kpi-value" id="kpi-crossBase">--</div></div>
          <div class="kpi ground"><div class="kpi-label">Conservative</div><div class="kpi-value" id="kpi-crossCons">--</div></div>
        </div>
        <div class="charts">
          <div class="chart-card wide tall">
            <div class="chart-header">
              <div class="chart-title">LCOC Scenarios ($/GPU-hr)</div>
              <div class="chart-desc">Deployment ramp timing under different assumptions</div>
            </div>
            <div class="chart-box"><canvas id="c-lcocScenarios"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Orbital (baseline)</div>
              <div class="legend-item"><div class="legend-dot" style="background:rgba(26,138,106,0.3)"></div>Orbital range</div>
              <div class="legend-item"><div class="legend-dot" style="background:var(--ground)"></div>Ground (market)</div>
              <div class="legend-item"><div class="legend-dot" style="background:transparent;border:2px dashed var(--ground)"></div>Ground (base)</div>
            </div>
          </div>
          <div class="chart-card wide">
            <div class="chart-header">
              <div class="chart-title">Carbon Scenarios (gCO₂/TFLOP-hr)</div>
              <div class="chart-desc">Emissions trajectory under each scenario</div>
            </div>
            <div class="chart-box"><canvas id="c-carbonScenarios"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Orbital (baseline)</div>
              <div class="legend-item"><div class="legend-dot" style="background:rgba(26,138,106,0.3)"></div>Orbital range</div>
            </div>
          </div>
          <div class="chart-card wide">
            <div class="chart-header">
              <div class="chart-title">Efficiency Scenarios (GFLOPS/W)</div>
              <div class="chart-desc">Compute efficiency improvement</div>
            </div>
            <div class="chart-box"><canvas id="c-effScenarios"></canvas></div>
            <div class="legend">
              <div class="legend-item"><div class="legend-dot" style="background:var(--orbital)"></div>Orbital (baseline)</div>
              <div class="legend-item"><div class="legend-dot" style="background:rgba(26,138,106,0.3)"></div>Orbital range</div>
            </div>
          </div>
        </div>

        <!-- Feedback Loops & Lunar Readiness -->
        <div class="feedback-panels" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; padding: 16px;">
          <!-- Fleet & Starship Panel -->
          <div class="feedback-panel" style="background: var(--surface); border: 2px solid var(--border); border-radius: 6px; padding: 16px;">
            <div class="panel-title" style="font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--orbital); margin-bottom: 12px;">Fleet (2040)</div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">LEO Platforms</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-leoCapacity40">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">Total Fleet Mass</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-fleetMass40">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">Starship Flights to Deploy</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-starshipFlights40">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between;">
              <span style="color: var(--muted); font-size: 12px;">Annual Flights</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-annualFlights40">--</span>
            </div>
          </div>

          <!-- AI Acceleration Panel -->
          <div class="feedback-panel" style="background: var(--surface); border: 2px solid var(--border); border-radius: 6px; padding: 16px;">
            <div class="panel-title" style="font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent); margin-bottom: 12px;">AI Acceleration (2040)</div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">Global Compute</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-globalCompute40">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">R&D Stock (K)</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-rndStock40">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between;">
              <span style="color: var(--muted); font-size: 12px;">Launch Learn Boost</span>
              <span style="font-weight: 600; font-size: 12px; color: var(--orbital);" id="kpi-launchLearnBoost">--</span>
            </div>
            <div class="panel-note" style="font-size: 10px; color: var(--muted); margin-top: 8px; font-style: italic;">
              AI compute drives R&D → faster learning curves
            </div>
          </div>

          <!-- Lunar Readiness Panel -->
          <div class="feedback-panel" style="background: var(--surface); border: 2px solid var(--border); border-radius: 6px; padding: 16px;">
            <div class="panel-title" style="font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--purple); margin-bottom: 12px;">Lunar Infrastructure</div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">Readiness (2040)</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-lunarReadiness">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">Mass Score</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-lunarMassScore">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">Compute Score</span>
              <span style="font-weight: 600; font-size: 12px;" id="kpi-lunarComputeScore">--</span>
            </div>
            <div class="panel-row" style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: var(--muted); font-size: 12px;">Unlock Year</span>
              <span style="font-weight: 600; font-size: 12px; color: var(--warning);" id="kpi-lunarUnlock">--</span>
            </div>
            <div class="panel-status" style="font-size: 11px; color: var(--text); margin-top: 8px; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 4px;" id="kpi-lunarStatus">
              --
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</html>
